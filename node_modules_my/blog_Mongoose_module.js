var mHOST;
var mPORT;
// console.log(process.env.PWD);
if(process.env.COMPUTERNAME=="HLY2-PC"){
  mHOST="localhost";mPORT=27017;
}else if (process.env.PWD== '/root/AlC_NodeWebDev') {
  mHOST="127.0.0.1";mPORT=26996;
}else{
  _mongoUrl=process.env.campInfo_MONGODBURL_REMOTE;
}
var BlogInfoSchema={
    title:String,
    image:String,
    body:String,
    dateCreated:{type:Date,default:Date.now}
  };

/*
var blogNow={
    title:"BlogA",
    image:"https://tse1-mm.cn.bing.net/th?id=OET.83e1d50a5ebd40bc9e1d15b0a5a2c42a&w=272&h=135&c=7&rs=1&o=5&pid=1.9",
    body:"TestBlog"
} 
*/
module.exports={
    mongoUrl:"mongodb://"+mHOST+":"+mPORT+"/blogData",
    connectionBlogDB:function(mongoose){
     mongoose.connect(this.mongoUrl,{useNewUrlParser:true});
     mongoose.connection.on('connected',
             function(){
             console.log("mongoose OK");
            });
    mongoose.connection.on('error',
             function(err){
             console.log("mongoose Error :"+err);
            });
    },
    getBlogModel:function(mongoose){
        return mongoose.model("BlogInfo",mongoose.Schema(BlogInfoSchema));
    }
}